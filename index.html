<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>人生二周目ノート</title>

  <link rel="stylesheet" href="style.css">
  <meta name="theme-color" content="#0f3d2e">
  <link rel="manifest" href="manifest.webmanifest">
</head>

<body>

<header>
  <h1>人生二周目ノート</h1>
  <p class="subtitle">人生をかしこく、後悔しないために</p>
</header>

<nav class="tabbar">
  <button data-page="home" class="active">ホーム</button>
  <button data-page="generation">世代別ノート</button>
  <button data-page="knowledge">教養ノート</button>
  <button data-page="catchup">キャッチアップノート</button>
</nav>

<main>

  <!-- ホーム -->
  <section id="home" class="page active">
    <div class="hero">
      <h2>迷わないための3つのノート</h2>
      <p>世代別・教養・キャッチアップで、人生を二周目視点で整理する。</p>
    </div>

    <h3 class="section-title">どのノートから始める？</h3>

    <div class="home-buttons">
      <button class="home-feature" data-go="generation">
        <span class="home-feature-title">世代別ノート</span>
        <span class="home-feature-desc">
          自分の年代の悩み・テーマ・心理学を整理
        </span>
      </button>

      <button class="home-feature" data-go="knowledge">
        <span class="home-feature-title">教養ノート</span>
        <span class="home-feature-desc">
          歴史・科学・心理学・社会を“二周目視点”で理解
        </span>
      </button>

      <button class="home-feature" data-go="catchup">
        <span class="home-feature-title">キャッチアップノート</span>
        <span class="home-feature-desc">
          最新の社会変化・AI・ニュースを高速で把握
        </span>
      </button>
    </div>
  </section>

  <!-- 世代別ノート -->
  <section id="generation" class="page">
    <div class="page-header-row">
      <h2>世代別ノート</h2>
      <button class="back-home" data-go="home">← ホームに戻る</button>
    </div>

    <div class="generation-tabs">
      <button data-gen="小学生" class="gen-active">小学生</button>
      <button data-gen="中学生">中学生</button>
      <button data-gen="高校生">高校生</button>
      <button data-gen="大学生">大学生</button>
      <button data-gen="社会人">社会人</button>
      <button data-gen="定年後">定年後</button>
    </div>

    <div id="generation-summary" class="card">
      <h3 id="gen-title">小学生のテーマ</h3>
      <ul id="gen-list"></ul>
    </div>
  </section>

  <!-- 教養ノート -->
  <section id="knowledge" class="page">
    <div class="page-header-row">
      <h2>教養ノート</h2>
      <button class="back-home" data-go="home">← ホームに戻る</button>
    </div>

    <div class="card">
      <h3>ショート教養（デモ）</h3>
      <p>
        産業革命の本質は「蒸気」ではなく「識字率」。<br>
        AI時代の識字率は「AIリテラシー」。
      </p>
    </div>

    <div class="card">
      <h3>心理学の視点（デモ）</h3>
      <p>
        人は「社会的比較」によって幸福度を判断しがち。<br>
        二周目視点では「他人」ではなく「過去の自分」と比較する。
      </p>
    </div>
  </section>

  <!-- キャッチアップノート -->
  <section id="catchup" class="page">
    <div class="page-header-row">
      <h2>キャッチアップノート</h2>
      <button class="back-home" data-go="home">← ホームに戻る</button>
    </div>

    <div class="card">
      <h3>今日のニュース（デモ）</h3>
      <p>
        ・AI関連：企業が社内業務の70%を自動化する実証実験を開始。<br>
        ・経済：世界的な金利動向により、投資マネーがAI銘柄に集中。<br>
        ・社会：リスキリング支援制度の拡充を検討。
      </p>
    </div>

    <div class="card">
      <h3>今日の心理Tip（デモ）</h3>
      <p>
        不安なときほど「最悪の未来」を想像してしまうのはネガティビティ・バイアス。<br>
        逆に「一番マシな未来」「現実的に起こりそうな未来」も書き出して、バランスを取ってみる。
      </p>
    </div>
  </section>

</main>

<!-- JS をここに直接記述 -->
<script>
  // ページ切り替え用
  const pages = document.querySelectorAll(".page");
  const tabButtons = document.querySelectorAll(".tabbar button");

  function switchPage(pageId) {
    // ページ表示
    pages.forEach(p => p.classList.remove("active"));
    const target = document.getElementById(pageId);
    if (target) target.classList.add("active");

    // 下タブの見た目
    tabButtons.forEach(b => {
      b.classList.toggle("active", b.dataset.page === pageId);
    });
  }

  // 下タブのクリック
  tabButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      switchPage(btn.dataset.page);
    });
  });

  // ホームの大ボタン → 各ページへ
  const homeButtons = document.querySelectorAll(".home-feature");
  homeButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      const targetPage = btn.dataset.go;
      if (targetPage) switchPage(targetPage);
    });
  });

  // ページ内「ホームに戻る」ボタン
  const backHomeButtons = document.querySelectorAll(".back-home");
  backHomeButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      switchPage("home");
    });
  });

  // 世代別ノートのデモデータ
  const generationData = {
    "小学生": [
      "友だち関係、仲間外れへの不安",
      "怒られる恐怖と承認欲求",
      "勉強より“遊び”の優先順位問題"
    ],
    "中学生": [
      "自分のキャラづくり問題",
      "SNSと比較で自信が揺らぐ",
      "進路への漠然とした不安"
    ],
    "高校生": [
      "進路選択のストレス",
      "模試の結果で自己評価が上下",
      "親の期待とのズレ"
    ],
    "大学生": [
      "就活・キャリア不安",
      "周りがうまくいって見える問題",
      "自分が何者かわからない感覚"
    ],
    "社会人": [
      "仕事量と責任の増加による疲労",
      "キャリアの方向に迷う",
      "同期との比較"
    ],
    "定年後": [
      "役割の喪失とアイデンティティ問題",
      "健康と老後資金への不安",
      "地域・家族の関係変化"
    ]
  };

  const genTitle = document.getElementById("gen-title");
  const genList  = document.getElementById("gen-list");
  const genButtons = document.querySelectorAll(".generation-tabs button");

  function renderGeneration(gen) {
    if (!genTitle || !genList) return;
    genTitle.textContent = gen + "のテーマ";
    genList.innerHTML = "";
    (generationData[gen] || []).forEach(item => {
      const li = document.createElement("li");
      li.textContent = item;
      genList.appendChild(li);
    });
  }

  // 初期表示
  renderGeneration("小学生");

  genButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      const gen = btn.dataset.gen;
      genButtons.forEach(b => b.classList.remove("gen-active"));
      btn.classList.add("gen-active");
      renderGeneration(gen);
    });
  });
</script>

</body>
</html>
